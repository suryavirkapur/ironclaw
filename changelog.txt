0.4.1 2026-02-13
- added persistent telegram session transcripts under users root at
  `telegram-<chat_id>/telegram.transcript.json`
- stored transcript messages as role/text/timestamp and trimmed to a rolling 50-turn window
- added prompt history injection in host planning/finalization prompts before current user message
- wired telegram transport resilience: detect transport/auth failures, stop vm, restart transport,
  re-auth, and retry once with exponential backoff
- applied the same telegram restart path to firecracker mode via shared `start_vm_pair` and
  `vm_manager.stop_vm(user_id)`
- constrained guest bash tool execution to guest workspace root to preserve guest-only home
  semantics
- added transcript ring-buffer and transcript persistence tests plus prompt-history formatting test
- updated readme telegram quickstart with guest-only home directory, 50-turn context window, and
  transcript storage location

0.4.0 2026-02-13
- added telegram channel mvp in `ironclawd` with long polling via reqwest and outbound
  sendmessage support
- added owner allowlist enforcement via `OWNER_TELEGRAM_CHAT_ID` or
  `[telegram].owner_chat_id`
- added telegram offset persistence at `data/telegram.offset` with load/save helpers and unit
  coverage
- added `--telegram` startup flag and host config `[telegram]` section for token/chat/timeout
  settings
- wired telegram inbound text into existing host-only or guest transport flow with per-chat
  session reuse
- added telegram stream chunking for telegram max message size handling
- added graceful shutdown wiring for http server + telegram loop with shared stop signal
- documented telegram quickstart and test steps in readme
- enabled tokio `signal` feature for ctrl-c shutdown handling

0.3.1 2026-02-13
- added deterministic `TOOLTEST` host planner path for guest_tools mode without llm key dependency
- added `configs/ironclawd.guest-tools.toml` for local guest_tools smoke execution
- updated `smoke-guest-tools-ws` scripts to validate planner-driven guest file tools, policy block,
  and leak detector block with clear pass logs

0.3.0 2026-02-13
- added execution mode config (`host_only`, `guest_tools`, `guest_autonomous`, `auto`)
- extended auth challenge with execution mode for host-guest loop negotiation
- implemented guest safety layer for prompt injection heuristics, policy decisions, and leak checks
- added guest tool registry with allowlist enforcement in `crates/tools`
- implemented real guest `file_read` and `file_write` tools rooted under guest workspace
- wired guest-side `ToolCallRequest` handling to execute tools and return `ToolCallResponse`
- added guest loop support for host-planned mode (`host_plan` internal tool) and autonomous mode
- updated host websocket routing for mode-aware behavior and added `!toolcall <tool>\\n<input>` path
- added unit and protocol integration tests for safety and guest tool execution
- added `scripts/smoke-guest-tools-ws.sh` and `scripts/smoke-guest-tools-ws.mjs`
- documented new execution modes and smoke command usage in readme
- added local guest autonomous host config `configs/ironclawd.guest-autonomous.toml`
- updated firecracker ws config to use `execution_mode = \"guest_tools\"`
- kept step 4 firecracker websocket smoke script compatibility behavior

0.2.2 2026-02-12
- wired websocket user messages to guest transport when firecracker mode is enabled
- added scripts/smoke-firecracker-ws.sh for one-command websocket end-to-end firecracker smoke
- added scripts/smoke-firecracker-ws.mjs client with marker assertion for guest-derived response
- documented firecracker websocket smoke command in readme

0.2.1 2026-02-12
- updated guest rootfs build to emit both directory tree and ext4 image artifact
- added dependency copy handling for busybox and irowclaw when binaries are dynamically linked
- enabled musl-target irowclaw guest build attempt by default for easier static guest runtime
- switched firecracker smoke script to direct host-guest vsock roundtrip example execution
- added firecracker vsock roundtrip example under common crate for smoke validation
- updated firecracker config rootfs path default to rootfs/build/guest-rootfs.ext4
- improved smoke failure diagnostics by tailing firecracker console log

0.2.0 2026-02-11
- added host-only tool planning loop with json plan schema (`tool` or `answer`)
- added plan parsing + validation in llm client with parser unit coverage
- wired host allowlisted tool execution for websocket user turns without guest llm involvement
- added safe tool output truncation and execution logging before llm finalization
- updated todo and agent context for step 2 completion

0.1.2 2026-02-11
- switched ironclawd openai integration from curl subprocess calls to reqwest http client
- kept host-only llm websocket streamdelta flow and cap token auth enforcement intact
- documented step 1 completion detail in todo

0.1.1 2026-02-11
- added host llm config fields for model, base_url, and api selection
- implemented host-only openai llm client in ironclawd using openai_api_key env
- switched websocket user message handling to return host-generated streamdelta responses
- added unit coverage for llm response parsing paths

0.1.0 2026-02-10
- added rust toolchain pin for 1.92.0
- wired firecracker manager selection with feature-gated error handling
- initialized guest brain layout files and jobs.toml scaffolding
- added sqlite vector extension load stub
- tightened websocket timestamp handling without unwraps

0.1.0 2026-02-09
- initial repository scaffolding and workspace layout
- added rustfmt and biome configuration
- created base crates for warden, inmate, and shared modules
- updated agent context with implementation plan
- added common protocol framing, config structs, and transport stubs
- implemented irowclaw runtime scaffolding with config loader and sqlite schema
- implemented memory chunker and sqlite indexer with hybrid retrieval fusion stub
- added tool interfaces with bash and file stubs
- implemented ironclawd axum server with websocket bridge and embedded ui serving
- added ui placeholder assets
- added guest config fallback and ws framing fixes
